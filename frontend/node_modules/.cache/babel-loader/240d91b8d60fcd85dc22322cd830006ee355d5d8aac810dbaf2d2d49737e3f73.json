{"ast":null,"code":"var _jsxFileName = \"/home/psa/develop/result-school/blog/src/pages/autorization/autorization.js\",\n  _s = $RefreshSig$();\nimport { useForm } from 'react-hook-form';\nimport * as yup from 'yup';\nimport { yupResolver } from '@hookform/resolvers/yup';\nimport { server } from '../../bff';\nimport { useState } from 'react';\nimport styled from 'styled-components';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst authFormSchema = yup.object().shape({\n  login: yup.string().required('Введите логин').matches(/^\\w+$/, 'Неверный логин. Допускаются только буквы и цифры').min(3, 'Неверный логин. Длина должна быть не менее 3 цифр').max(15, 'Неверный логин. Длина не более 15 символов'),\n  password: yup.string().required('Введите пароль').matches(/^[\\w#%]+$/, 'Неверный пароль. Допускаяются буквы, цифры и символы # %').min(6, 'Длина пароля не менее 8 символов').max(15, 'Длина пароле не более 15 символов')\n});\nconst AutorizationContainer = ({\n  className\n}) => {\n  _s();\n  var _errors$login, _errors$password;\n  const {\n    register,\n    handleSubmit,\n    formState: {\n      errors\n    }\n  } = useForm({\n    defaultValues: {\n      login: '',\n      password: ''\n    },\n    resolver: yupResolver(authFormSchema)\n  });\n  const [servseError, setServerError] = useState();\n  const onSubmit = ({\n    login,\n    password\n  }) => {\n    server.authorize(login, password).then(({\n      error,\n      res\n    }) => {\n      if (error) {\n        setServerError(`Ошибка запроса: ${error}`);\n      }\n    });\n  };\n  const formError = ((_errors$login = errors.login) === null || _errors$login === void 0 ? void 0 : _errors$login.message) || (errors === null || errors === void 0 ? void 0 : (_errors$password = errors.password) === null || _errors$password === void 0 ? void 0 : _errors$password.message);\n  const errorMessage = formError || servseError;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"\\u0410\\u0432\\u0442\\u043E\\u0440\\u0438\\u0437\\u0430\\u0446\\u0438\\u044F\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit(onSubmit),\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"\\u041B\\u043E\\u0433\\u0438\\u043D...\",\n        ...register('login')\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"password\",\n        placeholder: \"\\u041F\\u0430\\u0440\\u043E\\u043B\\u044C...\",\n        ...register('password')\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        disabled: !!formError,\n        children: \"\\u0412\\u043E\\u0439\\u0442\\u0438\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 17\n      }, this), errorMessage && /*#__PURE__*/_jsxDEV(\"div\", {\n        children: errorMessage\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 34\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 57,\n    columnNumber: 9\n  }, this);\n};\n_s(AutorizationContainer, \"Gi6YW25qcIeCFYRocdnDmPY+J4o=\", false, function () {\n  return [useForm];\n});\n_c = AutorizationContainer;\nexport const Autorization = styled(AutorizationContainer)`\n    display:    flex;\n    flex-direction: column;\n    align-items:   center;\n\n    & > form {\n        display:    flex;\n        flex-direction: column;\n    }\n    \n\n`;\nvar _c;\n$RefreshReg$(_c, \"AutorizationContainer\");","map":{"version":3,"names":["useForm","yup","yupResolver","server","useState","styled","jsxDEV","_jsxDEV","authFormSchema","object","shape","login","string","required","matches","min","max","password","AutorizationContainer","className","_s","_errors$login","_errors$password","register","handleSubmit","formState","errors","defaultValues","resolver","servseError","setServerError","onSubmit","authorize","then","error","res","formError","message","errorMessage","children","fileName","_jsxFileName","lineNumber","columnNumber","type","placeholder","disabled","_c","Autorization","$RefreshReg$"],"sources":["/home/psa/develop/result-school/blog/src/pages/autorization/autorization.js"],"sourcesContent":["import { useForm } from 'react-hook-form';\nimport * as yup from 'yup';\nimport { yupResolver } from '@hookform/resolvers/yup';\nimport { server } from '../../bff';\nimport { useState } from 'react';\n\nimport styled from 'styled-components';\n\nconst authFormSchema = yup.object().shape({\n    login:  yup.string()\n        .required('Введите логин')\n        .matches(/^\\w+$/, 'Неверный логин. Допускаются только буквы и цифры')\n        .min(3, 'Неверный логин. Длина должна быть не менее 3 цифр')\n        .max(15, 'Неверный логин. Длина не более 15 символов'),\n    password:   yup.string()\n        .required ('Введите пароль') \n        .matches(/^[\\w#%]+$/, 'Неверный пароль. Допускаяются буквы, цифры и символы # %')\n        .min(6, 'Длина пароля не менее 8 символов')  \n        .max(15, 'Длина пароле не более 15 символов')\n\n\n});\n \n\nconst AutorizationContainer = ({ className }) => {\n    const {\n        register,\n        handleSubmit,\n        formState:  { errors }\n\n    } = useForm({\n        defaultValues:  {\n            login:  '',\n            password:   '',\n        },\n        resolver:   yupResolver(authFormSchema),\n\n    });\n\n    const [servseError, setServerError] = useState();\n\n    const onSubmit = ({ login, password}) => {\n        server.authorize(login, password).then(({error, res}) => {\n            if (error) {\n                setServerError(`Ошибка запроса: ${error}`);\n\n            }\n        })\n\n    };\n\n    const formError = errors.login?.message || errors?.password?.message ;\n\n    const errorMessage = formError || servseError;\n\n    return (\n        <div>\n            <h2>Авторизация</h2>\n            <form onSubmit={handleSubmit(onSubmit)}>\n                <input type=\"text\" placeholder=\"Логин...\" {...register('login')} />\n                <input type=\"password\" \n                placeholder=\"Пароль...\" \n                {...register('password')} />\n                <button type=\"submit\" disabled={!!formError}>Войти</button>\n                {errorMessage && <div>{errorMessage}</div>}\n            </form>\n\n\n        </div>\n\n    );\n};\n\nexport const Autorization = styled(AutorizationContainer)`\n    display:    flex;\n    flex-direction: column;\n    align-items:   center;\n\n    & > form {\n        display:    flex;\n        flex-direction: column;\n    }\n    \n\n`;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}