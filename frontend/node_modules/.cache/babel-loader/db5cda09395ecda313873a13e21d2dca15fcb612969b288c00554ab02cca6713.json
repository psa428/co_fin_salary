{"ast":null,"code":"var _jsxFileName = \"/home/psa/develop/result-school/co-fin-salary/src/components/menu/menu.js\",\n  _s = $RefreshSig$();\nimport { useServerRequest } from \"../../hooks\";\nimport { useState } from \"react\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport { useEffect } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { selectUserRole } from \"../../selectors\";\nimport styled from \"styled-components\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst MenuContainer = ({\n  className\n}) => {\n  _s();\n  const [errorMessage, setErrorMessage] = useState(null);\n  const [menuItems, setMenuItems] = useState(null);\n  const requestServer = useServerRequest();\n  const navigate = useNavigate();\n  let roleId = useSelector(selectUserRole);\n  useEffect(() => {\n    // Promise.all([\n    //     requestServer('fetchMenu'), \n\n    // ]).then((menuRes) => {\n    if (roleId) {\n      requestServer('fetchMenu', roleId).then(menuRes => {\n        console.log('in menu menuRes =', menuRes);\n        if (menuRes.error) {\n          console.log(`in menu menuRes = ${menuRes.error} errorMessage = ${menuRes.errorMessage}`);\n          setErrorMessage(menuRes.error);\n          return;\n        }\n        ;\n        setMenuItems(menuRes.res[0].menu_items);\n        console.log('in MtnuContainer menuItems', menuItems);\n      });\n    } else {\n      navigate('/login');\n    }\n    ;\n  }, [requestServer, roleId]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: className,\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"\\u041C\\u0435\\u043D\\u044E\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 13\n    }, this), menuItems ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"menu-items\",\n      children: /*#__PURE__*/_jsxDEV(\"ul\", {\n        children: menuItems.map((item, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n          className: \"menu-item\",\n          children: /*#__PURE__*/_jsxDEV(Link, {\n            to: `${item.path}`,\n            children: item.menu_item\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 25\n          }, this)\n        }, item.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 21\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 16\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 13\n    }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: \"\\u041F\\u0443\\u0441\\u0442\\u043E\"\n    }, void 0, false)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 46,\n    columnNumber: 9\n  }, this);\n};\n_s(MenuContainer, \"NI774VyfDPx35Po2CgoyoqZhIl0=\", false, function () {\n  return [useServerRequest, useNavigate, useSelector];\n});\n_c = MenuContainer;\nexport const Menu = styled(MenuContainer)`\n    display:    flex;\n    flex-direction: column;  \n    align-items:   center;\n    margin: 0   auto;\n    width:  570px;\n    front-size: 28px;\n\n    & .menu-item {\n        margin: auto auto 10px;\n        font-size:  large;color:  #007879\n    }\n    & a {\n        color:  #007879\n        \n    }    \n\n\n\n`;\nvar _c;\n$RefreshReg$(_c, \"MenuContainer\");","map":{"version":3,"names":["useServerRequest","useState","Link","useNavigate","useEffect","useSelector","selectUserRole","styled","jsxDEV","_jsxDEV","Fragment","_Fragment","MenuContainer","className","_s","errorMessage","setErrorMessage","menuItems","setMenuItems","requestServer","navigate","roleId","then","menuRes","console","log","error","res","menu_items","children","fileName","_jsxFileName","lineNumber","columnNumber","map","item","index","to","path","menu_item","id","_c","Menu","$RefreshReg$"],"sources":["/home/psa/develop/result-school/co-fin-salary/src/components/menu/menu.js"],"sourcesContent":["import { useServerRequest } from \"../../hooks\"; \nimport { useState } from \"react\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport { useEffect } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { selectUserRole } from \"../../selectors\";\nimport styled from \"styled-components\";\n\n\nconst MenuContainer = ({ className }) => {\n    \n    const [errorMessage, setErrorMessage] = useState(null);\n    const [menuItems, setMenuItems] = useState(null);\n    const requestServer = useServerRequest();\n    const navigate = useNavigate();\n    let roleId = useSelector(selectUserRole)\n    \n    useEffect(() => {\n        // Promise.all([\n        //     requestServer('fetchMenu'), \n            \n        // ]).then((menuRes) => {\n        if (roleId) {    \n            requestServer('fetchMenu', roleId).then((menuRes) => {\n            console.log('in menu menuRes =', menuRes);\n            if (menuRes.error) {\n                console.log(`in menu menuRes = ${menuRes.error} errorMessage = ${menuRes.errorMessage}`);\n                setErrorMessage(menuRes.error);\n                return;\n            };\n            setMenuItems(menuRes.res[0].menu_items);\n            console.log('in MtnuContainer menuItems', menuItems)\n            \n            });\n        }\n        else {\n            navigate('/login');\n        };    \n       \n    }, [requestServer, roleId]);\n\n    \n\n\n    return (\n        <div className={className}>\n            {/* <Content error={errorMessage}> */}\n            <h2>Меню</h2>\n            \n            {menuItems ?\n           \n            <div className=\"menu-items\">\n               <ul>\n                { \n                menuItems.map((item, index) => \n                     \n                    <li className=\"menu-item\" key={item.id}>\n                        <Link to={`${item.path}`}>\n                            {item.menu_item}\n                        </Link>\n                    </li>\n                \n                   \n                )}  \n                </ul>\n\n            </div>\n            : <>Пусто</> \n            \n                }   \n            {/* </Content> */}\n            \n        </div>    \n    );\n\n}\n\nexport const Menu = styled(MenuContainer)`\n    display:    flex;\n    flex-direction: column;  \n    align-items:   center;\n    margin: 0   auto;\n    width:  570px;\n    front-size: 28px;\n\n    & .menu-item {\n        margin: auto auto 10px;\n        font-size:  large;color:  #007879\n    }\n    & a {\n        color:  #007879\n        \n    }    \n\n\n\n`;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}